<!-- TMPL_INCLUDE NAME="doc-head-open.inc" -->
<title>Koha &rsaquo; Circulation
<!-- TMPL_IF NAME="borrowernumber" -->
&rsaquo; Checking out to <!-- TMPL_VAR name="surname" -->, <!-- TMPL_VAR name="firstname" -->
(<!-- TMPL_VAR NAME="cardnumber" -->)
<!-- /TMPL_IF --></title>
<!-- TMPL_INCLUDE NAME="doc-head-close.inc" -->
<!-- TMPL_IF NAME="UseTablesortForCirc" --><script type="text/javascript" src="<!-- TMPL_VAR name="themelang" -->/lib/jquery/plugins/jquery.tablesorter.min.js"></script><!-- /TMPL_IF -->
<script type="text/javascript" src="<!-- TMPL_VAR name="themelang" -->/lib/jquery/plugins/jquery.checkboxes.min.js"></script>
<script type="text/javascript">
//<![CDATA[
<!-- TMPL_IF NAME="UseTablesortForCirc" -->$.tablesorter.addParser({
    id: 'articles',
    is: function(s) {return false;  },
    format: function(s) { return s.toLowerCase().replace(/^(the|an|a) /,''); },
    type: 'text'
});<!-- /TMPL_IF -->
<!-- TMPL_UNLESS NAME="borrowernumber" --><!-- TMPL_UNLESS NAME="CGIselectborrower" -->window.onload=function(){ $('#findborrower').focus(); };<!-- /TMPL_UNLESS --><!-- /TMPL_UNLESS -->
	 $(document).ready(function() {
 		$('#patronlists > ul').tabs();
		<!-- TMPL_IF NAME="UseTablesortForCirc" -->$.tablesorter.defaults.widgets = ['zebra'];
		$("#issuest").tablesorter({<!-- TMPL_IF NAME="dateformat_metric" -->
		dateFormat: 'uk',<!-- /TMPL_IF -->
		headers: { 1: { sorter: 'articles' },5: { sorter: false },6:{sorter:false},7:{sorter:false},8:{sorter:false}}
		});
		$("#issuest").bind("sortEnd",function() {
        	$("#previous").parents("tr").remove();  // 'previous checkouts' header chokes table sorter
	    });
		$("#holdst").tablesorter({<!-- TMPL_IF NAME="dateformat_metric" -->
		dateFormat: 'uk',<!-- /TMPL_IF -->
			sortList: [[0,0]],
			headers: { 1: { sorter: 'articles' }}
		});<!-- /TMPL_IF -->
        <!-- TMPL_IF NAME="AllowRenewalLimitOverride" -->
        $( '#override_limit' ).click( function () {
            if ( this.checked ) {
                $( '.renewals-allowed' ).show(); $( '.renewals-disabled' ).hide();
            } else {
                $( '.renewals-allowed' ).hide(); $( '.renewals-disabled' ).show();
            }
        } ).attr( 'checked', false );
        <!-- /TMPL_IF -->

var allcheckboxes = $(".checkboxed");
	$("#renew_all").click(function(){
		$(allcheckboxes).checkCheckboxes(":input[name*=items]"); 
		$(allcheckboxes).unCheckCheckboxes(":input[name*=barcodes]");
	});
	$("#CheckAllitems").click(function(){
		$(allcheckboxes).checkCheckboxes(":input[name*=items]");
		$(allcheckboxes).unCheckCheckboxes(":input[name*=barcodes]"); return false;
	});
    $("#CheckNoitems").click(function(){
		$(allcheckboxes).unCheckCheckboxes(":input[name*=items]"); return false;
	});
	$("#CheckAllreturns").click(function(){
		$(allcheckboxes).checkCheckboxes(":input[name*=barcodes]");
		$(allcheckboxes).unCheckCheckboxes(":input[name*=items]"); return false;
	});
    $("#CheckNoreturns" ).click(function(){
		$(allcheckboxes).unCheckCheckboxes(":input[name*=barcodes]"); return false;
	});

    <!-- TMPL_IF NAME="CAN_user_circulate_override_renewals" -->
    <!-- TMPL_IF NAME="AllowRenewalLimitOverride" -->
    $( '#override_limit' ).click( function () {
        if ( this.checked ) {
           $( '.renewals-allowed' ).show(); $( '.renewals-disabled' ).hide();
        } else {
           $( '.renewals-allowed' ).hide(); $( '.renewals-disabled' ).show();
        }
    } ).attr( 'checked', false );
    <!-- /TMPL_IF -->
    <!-- /TMPL_IF -->
    // Clicking the table cell checks the checkbox inside it
	$("td").click(function(e){
		if(e.target.tagName.toLowerCase() == 'td'){
           $(this).find("input:checkbox:visible").each( function() {
                if($(this).attr("checked")){
                    $(this).attr("checked",'');
                } else {
                    $(this).attr("checked","checked");
                    radioCheckBox($(this));
                }
           });
        }
	});
    // prevent adjacent checkboxes from being checked simultaneously
    function radioCheckBox(box){
            box.parents("td").siblings().find("input:checkbox:visible").each(function(){
                if($(this).attr("checked")){
                    $(this).attr("checked",'');
                }
             });
     }

	$("#messages ul").after("<a href=\"#\" id=\"addmessage\">"+_("Add a new message")+"</a>");
	$("#borrower_messages .cancel").click(function(){
		$("#add_message_form").hide();
        $("#addmessage").show();
	});
	$("#addmessage").click(function (){
        $(this).hide();
		$("#add_message_form").show();
	 });

     $("input.radio").click(function(){
        radioCheckBox($(this));
     });
 });

function validate1(date) {
    var today = new Date();
    if ( date < today ) {
        return true;
     } else {
        return false;
     }
};
function refocus(calendar) {
   document.getElementById('barcode').focus();
   calendar.hide();
};
//]]>
</script>

<!-- TMPL_INCLUDE NAME="calendar.inc" -->
</head>
<body>

<!-- TMPL_INCLUDE NAME="header.inc" -->
<!-- TMPL_INCLUDE NAME="circ-search.inc" -->

<div id="breadcrumbs"><a href="/cgi-bin/koha/mainpage.pl">Home</a> &rsaquo; <a href="/cgi-bin/koha/circ/circulation-home.pl">Circulation</a> &rsaquo;<!-- TMPL_IF NAME="borrowernumber" --> <a href="/cgi-bin/koha/circ/circulation.pl">Checkouts</a> &rsaquo; <!-- TMPL_VAR name="firstname" --> <!-- TMPL_VAR name="surname" --><!-- TMPL_ELSE --> <strong>Checkouts</strong><!-- /TMPL_IF --></div>


<!-- TMPL_IF NAME="CGIselectborrower" -->
<div id="doc" class="yui-t7">

   <div id="bd">
	<div id="yui-main">
	<div class="yui-g">
<!-- TMPL_ELSE -->
<div id="doc3" class="yui-t2">

   <div id="bd">
	<div id="yui-main">
	<div class="yui-b">
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="borrowernumber" -->
<!-- TMPL_INCLUDE NAME="circ-toolbar.inc" -->
<!-- /TMPL_IF -->

<!--  INITIAL BLOC : PARAMETERS & BORROWER INFO -->
<div style="display: none;" id="add_message_form">
<form method="post" action="/cgi-bin/koha/circ/add_message.pl" id="message_form" name="message_f">
<fieldset id="borrower_messages" class="brief">
<legend>Leave a message</legend>
	<ol>
    <li>
            <label for="message_type">Add a message for:</label>
          <select name="message_type" id="message_type">
            <option value="L">Other Librarians</option>
            <option value="B"><!-- TMPL_VAR name="firstname" --></option>
        </select>
    </li>
    <!-- TMPL_IF NAME="canned_bor_notes_loop" -->
        <li>
                <label for="type">Predefined notes: </label>
                <select name="type" id="type" onchange="this.form.borrower_message.value=this.options[this.selectedIndex].value;">
                    <option value="">Select Note</option>
                    <!-- TMPL_LOOP NAME="canned_bor_notes_loop" -->
                    <option value="<!-- TMPL_VAR NAME="lib" -->"><!--TMPL_VAR NAME="authorised_value" --></option>
                    <!-- /TMPL_LOOP -->
                </select>
        </li>
    <!-- /TMPL_IF -->
    <li>
        <textarea rows="3" cols="60" name="borrower_message" id="borrower_message" ></textarea>
    </li>
	</ol>
    <fieldset class="action">
        <input type="submit" value="Save" /> <a href="#" class="cancel">Cancel</a>
    </fieldset>

        <input type="hidden" name="borrowernumber" value="<!-- TMPL_VAR NAME="borrowernumber" -->" />
        <input type="hidden" name="branchcode" value="<!-- TMPL_VAR NAME="branch" -->" />
</fieldset>
</form>
</div>

<!-- TMPL_IF NAME="dateexpiry" --><div class="dialog message">Patron's account has been renewed until <!-- TMPL_VAR NAME="dateexpiry" --></div><!-- /TMPL_IF -->
<!-- TMPL_IF NAME="NEEDSCONFIRMATION" -->
<div class="yui-g">

<div id="circ_needsconfirmation" class="dialog alert">
<h3>Please Confirm Checkout</h3>

<ul>
<!-- TMPL_IF NAME="DEBT" -->
    <li>The patron has a debt of <!-- TMPL_VAR name="DEBT" --></li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="RENEW_ISSUE" -->
    <li>Item <i><!-- TMPL_VAR NAME="getTitleMessageIteminfo" --></i> (<!-- TMPL_VAR NAME="getBarcodeMessageIteminfo" -->) is currently checked out to this patron.  Renew?</li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="RESERVE_WAITING" -->
    <li>Item <i><!-- TMPL_VAR NAME="getTitleMessageIteminfo" --></i> (<!-- TMPL_VAR NAME="getBarcodeMessageIteminfo" -->) has been waiting for <a href="/cgi-bin/koha/members/moremember.pl?borrowernumber=<!-- TMPL_VAR NAME="resborrowernumber" -->"><!-- TMPL_VAR NAME="resfirstname" --> <!-- TMPL_VAR NAME="ressurname" --></a> (<!-- TMPL_VAR NAME="rescardnumber" -->) at <!-- TMPL_VAR NAME="resbranchname" --> since <!-- TMPL_VAR NAME="reswaitingdate" --></li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="RESERVED" -->
    <li>Item <i><!-- TMPL_VAR NAME="getTitleMessageIteminfo" --></i> (<!-- TMPL_VAR NAME="getBarcodeMessageIteminfo" -->) has been on hold for <a href="/cgi-bin/koha/members/moremember.pl?borrowernumber=<!-- TMPL_VAR NAME="resborrowernumber" -->"><!-- TMPL_VAR NAME="resfirstname" --> <!-- TMPL_VAR NAME="ressurname" --></a> (<!-- TMPL_VAR NAME="rescardnumber" -->) at <!-- TMPL_VAR NAME="resbranchname" --> since <!-- TMPL_VAR NAME="resreservedate" --></li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="ISSUED_TO_ANOTHER" -->
    <li>Item <i><!-- TMPL_VAR NAME="getTitleMessageIteminfo" --></i> (<!-- TMPL_VAR NAME="getBarcodeMessageIteminfo" -->) is checked out to <a href="/cgi-bin/koha/members/moremember.pl?borrowernumber=<!-- TMPL_VAR NAME="issued_borrowernumber" -->"><!-- TMPL_VAR NAME="issued_firstname" --> <!-- TMPL_VAR NAME="issued_surname" --></a> (<!-- TMPL_VAR NAME="issued_cardnumber" -->). Check in and check out?</li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="TOO_MANY" -->
    <li>Too many checked out. <!-- TMPL_VAR NAME="current_loan_count" --> checked out, only <!-- TMPL_VAR NAME="max_loans_allowed" --> are allowed.</li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="BORRNOTSAMEBRANCH" -->
    <li>This patrons is from a different library (<!-- TMPL_VAR NAME="BORRNOTSAMEBRANCH" -->)</li>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="PATRON_CANT" -->
    <li>This patron can't check out this item per library circulation policy</i>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="NOT_FOR_LOAN_FORCING" -->
    <li>Item is normally not for loan.  Check out anyway?</li>
<!-- /TMPL_IF -->
<!-- TMPL_IF NAME="USERBLOCKEDOVERDUE" -->
    <li>Patron has <!-- TMPL_VAR NAME="USERBLOCKEDOVERDUE" --> overdue item(s).  Check out anyway?</li>
<!-- /TMPL_IF -->
</ul>

<form method="post" action="/cgi-bin/koha/circ/circulation.pl">

<!-- TMPL_IF NAME="RESERVED" -->
    <p>
    <input type="checkbox" id="cancelreserve" name="cancelreserve" value="1" />
    <label for="cancelreserve">Cancel hold</label>
    </p>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="RESERVE_WAITING" -->
    <p>
    <input type="checkbox" id="cancelreserve" name="cancelreserve" value="1" />
    <label for="cancelreserve">Cancel hold</label>
    </p>
<!-- /TMPL_IF -->

    <input type="hidden" name="barcode" value="<!-- TMPL_VAR NAME="barcode" -->" />
    <input type="hidden" name="borrowernumber" value="<!-- TMPL_VAR NAME="borrowernumber" -->" />
    <input type="hidden" name="issueconfirmed" value="1" />
    <!-- TMPL_IF NAME="DEBT" --><input type="hidden" name="debt_confirmed" value="1" /><!-- /TMPL_IF -->
    <!-- TMPL_IF NAME="INVALID_DATE" -->
    <p>
    <input type="text" size="10" id="duedatespec" name="duedatespec" value="<!-- TMPL_VAR NAME="duedatespec" -->" />
    <label for="duedatespec">Due Date</label>
    </p>
    <!-- TMPL_ELSE -->
    <input type="hidden" name="duedatespec" value="<!-- TMPL_VAR NAME="duedatespec" -->" />
    <!-- /TMPL_IF -->
    <input type="hidden" name="stickyduedate" value="<!-- TMPL_VAR NAME="stickyduedate" -->" />
    <input type="hidden" name="branch" value="<!-- TMPL_VAR NAME="branch" -->" />
    <input type="submit" class="approve" value="Yes, Check Out (Y)" accesskey="y" />
</form>

<form method="get" action="/cgi-bin/koha/circ/circulation.pl">
    <input type="hidden" name="borrowernumber" value="<!-- TMPL_VAR NAME="borrowernumber" -->" />
    <input type="hidden" name="duedatespec" value="<!-- TMPL_VAR NAME="duedatespec" -->" />
    <input type="hidden" name="stickyduedate" value="<!-- TMPL_VAR NAME="stickyduedate" -->" />
    <input type="submit" class="deny" value="No, Don't Check Out (N)" accesskey="n" />
</form>

</div></div>
<!-- /TMPL_IF --> <!-- NEEDSCONFIRMATION -->

        <!-- TMPL_IF NAME="IMPOSSIBLE" -->

<!-- TMPL_IF NAME="soundon" -->
<audio src="/intranet-tmpl/prog/sound/critical.ogg" autoplay="autoplay" autobuffer="autobuffer"></audio>
<!-- /TMPL_IF -->        

<div class="yui-g">
<div id="circ_impossible" class="dialog alert">
<!-- RESULT OF ISSUING REQUEST -->
        <ul>
        <!-- TMPL_IF NAME="STATS" -->
            <li>Local Use Recorded</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="INVALID_DATE" -->
            <li>The due date &quot;<!-- TMPL_VAR NAME="INVALID_DATE" -->&quot; is invalid</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="UNKNOWN_BARCODE" -->
            <li>The barcode was not found</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="NOT_FOR_LOAN" -->
            <li>Item not for loan</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="WTHDRAWN" -->
            <li>Item has been withdrawn</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="RESTRICTED" -->
            <li>Item is restricted</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="GNA" -->
            <li>Patron's address is in doubt</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="CARD_LOST" -->
            <li>Patron's card is lost</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="DEBARRED" -->
            <li>Patron is restricted</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="NO_MORE_RENEWALS" -->
            <li>No more renewals possible</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="EXPIRED" -->
            <li>Patron's card is expired</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="ITEMNOTSAMEBRANCH" -->
            <li>This item belongs to <!-- TMPL_VAR NAME="itemhomebranch" --> and cannot be issued from this location.</li>
        <!-- /TMPL_IF -->

        <!-- TMPL_IF NAME="USERBLOCKEDREMAINING" -->
            <li>Patron has had overdue items and is blocked for <!-- TMPL_VAR NAME="USERBLOCKEDREMAINING" --> day(s).</li>
        <!-- /TMPL_IF -->
	
	    <!-- TMPL_IF NAME="USERBLOCKEDOVERDUE" -->
            <li>Patron has <!-- TMPL_VAR NAME="USERBLOCKEDOVERDUE" --> overdue item(s).  Check out anyway?</li>
        <!-- /TMPL_IF -->
        </ul>

    <!-- TMPL_IF NAME="memberofinstution" -->
    <p><!-- TMPL_VAR NAME="CGIorganisations" --></p>
    <!-- /TMPL_IF -->

</div></div>
<!-- TMPL_ELSE -->
<!-- TMPL_IF NAME="soundon" -->
<audio src="/intranet-tmpl/prog/sound/beep.ogg" autoplay="autoplay" autobuffer="autobuffer"></audio>
<!-- /TMPL_IF -->
    <!--/TMPL_IF --> <!-- /impossible -->

<!-- TMPL_IF NAME="issued" -->
<p>Item Checked out</p>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="message" -->
<!-- TMPL_INCLUDE NAME="patron-toolbar.inc" -->
<h4>
No patron matched <span class="ex"><!-- TMPL_VAR name="message" --></span>
</h4>
<!-- /TMPL_IF -->


<!-- TMPL_IF NAME="CGIselectborrower" -->
<!-- TMPL_INCLUDE NAME="patron-toolbar.inc" -->

<form method="post" action="/cgi-bin/koha/circ/circulation.pl" id="mainform" name="mainform">
<fieldset id="circ_circulation_selectborrower" class="brief">
    <legend>Patron selection</legend>

    <input type="hidden" name="branch" value="<!-- TMPL_VAR NAME="branch" -->" />
    <input type="hidden" name="printer" value="<!-- TMPL_VAR NAME="printer" -->" />
    <input type="hidden" name="duedatespec" value="<!-- TMPL_VAR NAME="duedatespec" -->" />
    <input type="hidden" name="stickyduedate" value="<!-- TMPL_VAR NAME="stickyduedate" -->" />

<ol>    <li>
    <label for="borrowernumber">Select a patron: </label>
    <!-- TMPL_VAR name="CGIselectborrower" -->
    </li>
</ol>
<p><input type="submit" value="Select" /></p>
</fieldset>
</form>
<!-- TMPL_ELSE --> <!-- CGIselectborrower -->

<!-- BARCODE ENTRY -->

<!-- TMPL_IF NAME="borrowernumber" -->
<div class="yui-g">
<!-- TMPL_UNLESS NAME="noissues" -->
<!-- TMPL_IF NAME="flagged" -->
<div class="yui-u first">
<!-- TMPL_ELSE -->
<div>

<!-- /TMPL_IF -->


<form method="post" action="/cgi-bin/koha/circ/circulation.pl" name="mainform">
<fieldset id="circ_circulation_issue">
    <!-- TMPL_IF NAME="DisplayClearScreenButton" -->
	    <input type="button" value="Clear Screen" onclick="window.location = '/cgi-bin/koha/circ/circulation.pl'" />
    <!-- /TMPL_IF -->

    <label for="barcode">Checking out to <!-- TMPL_VAR name="firstname" --> <!-- TMPL_VAR name="surname" --> (<!-- TMPL_VAR NAME="cardnumber" -->) </label>
	<div class="hint">Enter item barcode:</div>

    <!-- TMPL_IF NAME="NEEDSCONFIRMATION" -->
	    <input type="text" name="barcode" id="barcode" class="barcode focus" size="14" disabled="disabled" />
    <!-- TMPL_ELSE -->
	    <input type="text" name="barcode" id="barcode" class="barcode focus" size="14" />
    <!-- /TMPL_IF -->
    <input type="submit" value="Check Out" />

    <!-- TMPL_IF NAME="SpecifyDueDate" --><div class="date-select">
        <div class="hint">Specify Due Date <!-- TMPL_INCLUDE NAME="date-format.inc" -->: </div>
		<!-- TMPL_IF NAME="duedatespec" --><input type="text" size="10" id="duedatespec" name="duedatespec" value="<!-- TMPL_VAR NAME="duedatespec" -->" /><!-- TMPL_ELSE --><input type="text" size="10" id="duedatespec" name="duedatespec" value="" />
<!-- /TMPL_IF -->
		<img src="<!-- TMPL_VAR Name="themelang" -->/lib/calendar/cal.gif" alt="Show Calendar"  border="0" id="CalendarDueDate" style="cursor: pointer;" />
             <script language="JavaScript" type="text/javascript">
			 //<![CDATA[
                   function validate1(date) {
                         var today = new Date();
                         if ( date < today ) {
                             return true;
                          } else {
                             return false;
                          }
                     };
                     function refocus(calendar) {
                        $('#barcode').focus();
                        calendar.hide();
                     };
				//#TODO - ADD syspref (AllowPostDatedCheckouts).
                     Calendar.setup(
                          {
                             inputField : "duedatespec",
                             ifFormat : "<!-- TMPL_VAR NAME="DHTMLcalendar_dateformat" -->",
                             button : "CalendarDueDate",
//                           disableFunc : validate1,
//                           dateStatusFunc : validate1,
                             onClose : refocus
                           }
                        );
				//]]>
                 </script>

          <label for="stickyduedate"> Remember for Session:</label>
<!-- TMPL_IF NAME="stickyduedate" -->
<input type="checkbox" id="stickyduedate" onclick="this.form.barcode.focus();" name="stickyduedate" checked="checked" />
<!-- TMPL_ELSE -->
<input type="checkbox" id="stickyduedate" onclick="this.form.barcode.focus();" name="stickyduedate" />
<!-- /TMPL_IF -->
          <input type="button" class="action" id="cleardate" value="Clear" name="cleardate" onclick="this.checked = false; this.form.duedatespec.value = ''; this.form.stickyduedate.checked = false; this.form.barcode.focus(); return false;" />
</div><!-- /TMPL_IF -->
          <input type="hidden" name="borrowernumber" id="borrowernumber" value="<!-- TMPL_VAR NAME="borrowernumber" -->" />
          <input type="hidden" name="branch" value="<!-- TMPL_VAR NAME="branch" -->" />
          <input type="hidden" name="printer" value="<!-- TMPL_VAR NAME="printer" -->" />
          <input type="hidden" name="print" value="maybe" />
          <input type="hidden" name="debt_confirmed" value="<!-- TMPL_VAR NAME="debt_confirmed" -->" />
                <!-- TMPL_IF NAME="CHARGES" -->
                        <input type="hidden" name="charges" value="yes" />
                        <input type="hidden" name="oldamount" value="<!-- TMPL_VAR NAME="amountold" -->" />
                <!-- /TMPL_IF -->
</fieldset>
</form></div><!-- /TMPL_UNLESS --><!-- /unless noissues -->

<!-- TMPL_IF NAME="noissues" --><div><!-- TMPL_ELSE --><div class="yui-u"><!-- /TMPL_IF -->

    <!-- TMPL_IF NAME="flagged" -->
		<!-- TMPL_IF NAME="noissues" -->
		 <h4>Checking out to <!-- TMPL_VAR name="firstname" --> <!-- TMPL_VAR name="surname" --> (<!-- TMPL_VAR NAME="cardnumber" -->)</h4>
        <div id="circmessages" class="circmessage warning">
		<!-- TMPL_ELSE -->
        <div id="circmessages" class="circmessage attention">
		<!-- /TMPL_IF -->

		<h3><!-- TMPL_IF NAME="noissues" -->
		        Cannot check out!
		<!-- TMPL_ELSE -->Attention:<!-- /TMPL_IF --></h3>
		<ul>

			<!-- TMPL_IF NAME = "warndeparture" -->
			<li><span class="circ-hlt">Expiration:</span> Patron's card will expire soon.
			Patron's card expires on <!-- TMPL_VAR NAME="expiry" --> <a href="/cgi-bin/koha/members/setstatus.pl?borrowernumber=<!-- TMPL_VAR NAME="borrowernumber" -->&amp;cardnumber=<!-- TMPL_VAR NAME="cardnumber" -->&amp;destination=circ&amp;reregistration=y">Renew</a> or <a href="/cgi-bin/koha/members/memberentry.pl?op=modify&amp;destination=circ&amp;borrowernumber=<!-- TMPL_VAR NAME="borrowernumber" -->&amp;categorycode=<!-- TMPL_VAR NAME="categorycode" -->">Edit Details</a>

			</li>
			<!-- /TMPL_IF -->

			<!-- TMPL_IF NAME="returnbeforeexpiry" -->
			 <li><span class="circ-hlt">Set due date to expiry:</span> You have the ReturnBeforeExpiry system preference enabled this means if the
			 expiry date is before the date due, the date due will be set to the expiry date
			 </li>
			<!-- /TMPL_IF -->

			<!-- TMPL_IF NAME = "expired" -->
			<li><span class="circ-hlt">Expiration:</span> Patron's card has expired.
			Patron's card expired on <!-- TMPL_VAR NAME="expiry" --> <a href="/cgi-bin/koha/members/setstatus.pl?borrowernumber=<!-- TMPL_VAR NAME="borrowernumber" -->&amp;cardnumber=<!-- TMPL_VAR NAME="cardnumber" -->&amp;destination=circ&amp;reregistration=y">Renew</a> or <a href="/cgi-bin/koha/members/memberentry.pl?op=modify&amp;destination=circ&amp;borrowernumber=<!-- TMPL_VAR NAME="borrowernumber" -->&amp;categorycode=<!-- TMPL_VAR NAME="categorycode" -->">Edit Details</a>

			</li>
			<!-- /TMPL_IF -->

            <!-- TMPL_IF NAME="gna" -->
			<li class="blocker"><span class="circ-hlt">Address:</span> Patron's address in doubt</li>
			<!-- /TMPL_IF -->

            <!-- TMPL_IF NAME="lost" -->
			<li class="blocker"><span class="circ-hlt">Lost: </span>Patron's card is lost</li>
			<!-- /TMPL_IF -->

            <!-- TMPL_IF NAME="dbarred" --><li class="blocker">
               <span class="circ-hlt"> Restricted:</span> Patron's account is restricted <a href="/cgi-bin/koha/members/setstatus.pl?borrowernumber=<!-- TMPL_VAR NAME="borrowernumber" -->&amp;cardnumber=<!-- TMPL_VAR NAME="cardnumber" -->&amp;destination=circ&amp;status=0">Lift restriction</a>
</li><!-- /TMPL_IF -->

        	<!-- TMPL_IF name="odues" --><li><!-- TMPL_IF name="nonreturns" --><span class="circ-hlt">Overdues:</span> Patron has <span class="circ-hlt">ITEMS OVERDUE</span>. See highlighted items <a href="#checkouts">below</a><!-- /TMPL_IF --></li>
            <!-- /TMPL_IF -->

        	<!-- TMPL_IF NAME="charges" -->
			    <li>
            <span class="circ-hlt">Fines:</span> Patron has  <a href="/cgi-bin/koha/members/boraccount.pl?borrowernumber=<!-- TMPL_VAR name="borrowernumber" -->">Outstanding fines<!-- TMPL_IF NAME="chargesamount" --> of <!-- TMPL_VAR NAME="chargesamount" --><!-- /TMPL_IF --></a>.
                <!-- TMPL_IF NAME="charges_is_blocker" -->
                    Checkouts are <span class="circ-hlt">BLOCKED</span> because fine balance is <span class="circ-hlt">OVER THE LIMIT</span>.
                <!-- /TMPL_IF -->
            Make <a href="/cgi-bin/koha/members/pay.pl?borrowernumber=<!-- TMPL_VAR name="borrowernumber" -->">Payment</a></li>
			<!-- /TMPL_IF -->

        	<!-- TMPL_IF NAME="credits" -->
			<li>
                <span class="circ-hlt">Credits:</span> Patron has a credit<!-- TMPL_IF NAME="creditsamount" --> of <!-- TMPL_VAR name="creditsamount" --><!-- /TMPL_IF -->
            </li>
			<!-- /TMPL_IF -->



			</ul>
        </div>

			<!-- TMPL_IF NAME="WaitingReserveLoop" -->
			<div id="holdswaiting" class="circmessage">
		    <h4>Holds waiting:</h4>
			        <!-- TMPL_LOOP NAME="WaitingReserveLoop" -->
			            <ul>
			                <li> <a href="/cgi-bin/koha/reserve/request.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->"><!-- TMPL_VAR NAME="title" escape="html" --></a> (<!-- TMPL_VAR NAME="itemtype"-->), <!-- TMPL_IF NAME="author" -->by <!-- TMPL_VAR NAME="author"--><!-- /TMPL_IF --> Hold placed on <!-- TMPL_VAR NAME="reservedate"-->.
			            <!-- TMPL_IF NAME="waitingat" -->
			                <br /><!-- TMPL_IF NAME="waitinghere" --><strong class="waitinghere"><!-- TMPL_ELSE --><strong><!-- /TMPL_IF -->Waiting at <!-- TMPL_VAR NAME="waitingat" --></strong>
			            <!-- /TMPL_IF -->
			                </li>
			            </ul>
			    <!-- /TMPL_LOOP -->
			</div>
			<!-- /If WaitingReserveLoop --><!-- /TMPL_IF -->
	<!-- TMPL_IF name="notes" -->
			<div id="circnotes" class="circmessage">
			<h4>Notes:</h4>
            <p><span class="circ-hlt"><!-- TMPL_VAR name="notesmsg" --></span></p>
			</div>


    <!-- /If notes --><!-- /TMPL_IF -->

	<div id="messages" class="circmessage">
		<h4>Messages:</h4>
		<ul>
			<!--TMPL_LOOP NAME="lib_messages_loop" -->
				<li>
					<span class="circ-hlt">
						<!--TMPL_VAR NAME="message_date_formatted"-->
						<!--TMPL_VAR NAME="branchcode"-->
						<i>"<!--TMPL_VAR NAME="message"-->"</i>
					</span>
					<!-- TMPL_IF NAME="can_delete" -->
						<a href="/cgi-bin/koha/circ/del_message.pl?message_id=<!--TMPL_VAR NAME="message_id" -->&amp;borrowernumber=<!--TMPL_VAR NAME="borrowernumber" -->">[Delete]</a>
					<!-- TMPL_ELSE -->
						<!-- TMPL_IF NAME="all_messages_del" -->
							<a href="/cgi-bin/koha/circ/del_message.pl?message_id=<!--TMPL_VAR NAME="message_id" -->&amp;borrowernumber=<!--TMPL_VAR NAME="borrowernumber" -->">[Delete]</a>
						<!-- /TMPL_IF -->
					<!-- /TMPL_IF -->
				</li>
			<!-- /TMPL_LOOP -->
			<!--TMPL_LOOP NAME="bor_messages_loop" -->
				<li><span class=""><!--TMPL_VAR NAME="message_date_formatted"--> <!--TMPL_VAR NAME="branchcode"--> <i>"<!--TMPL_VAR NAME="message"-->"</i></span> <!-- TMPL_IF NAME="can_delete" --><a href="/cgi-bin/koha/circ/del_message.pl?message_id=<!--TMPL_VAR NAME="message_id" -->&amp;borrowernumber=<!--TMPL_VAR NAME="borrowernumber" -->">[Delete]</a><!-- /TMPL_IF --></li>
			<!-- /TMPL_LOOP -->

		</ul>
	</div>	
	
     <!-- /If flagged --><!-- /TMPL_IF -->

	

</div>
</div>

<div class="yui-g"><div id="patronlists" class="toptabs">

<ul>
<li>    <!--TMPL_IF NAME="issuecount"-->
            <a href="/cgi-bin/koha/circ/circulation.pl#checkouts"><!-- TMPL_VAR NAME="issuecount"--> Checkout(s)</a>
    <!-- TMPL_ELSE -->
            <a href="/cgi-bin/koha/circ/circulation.pl#checkouts">0 Checkouts</a>
    <!-- /TMPL_IF --></li>
<li><!-- TMPL_IF NAME="countreserv"-->
            <a href="/cgi-bin/koha/circ/circulation.pl#reserves"><!--TMPL_VAR NAME="countreserv"--> Hold(s)</a>
    <!-- TMPL_ELSE -->
            <a href="/cgi-bin/koha/circ/circulation.pl#reserves">0 Holds</a>
    <!-- /TMPL_IF --></li>

</ul>

<!-- SUMMARY : TODAY & PREVIOUS ISSUES -->
<div id="checkouts">
<!--TMPL_IF NAME="issuecount"-->
    <form action="/cgi-bin/koha/reserve/renewscript.pl" method="post" class="checkboxed">
    <input type="hidden" value="circ" name="destination" />
    <input type="hidden" name="cardnumber" value="<!-- TMPL_VAR NAME="cardnumber" -->" />
    <input type="hidden" name="borrowernumber" value="<!-- TMPL_VAR NAME="borrowernumber" -->" />
    <input type="hidden" name="branch" value="<!-- TMPL_VAR NAME="branch" -->" />
        <table id="issuest">
    <thead><tr>
        <th scope="col">Due date</th>
        <th scope="col">Title</th>
        <th scope="col">Item Type</th>
        <th scope="col">Checked out on</th> 
        <th scope="col">Call no</th>
        <th scope="col">Charge</th>
        <th scope="col">Price</th>
        <th scope="col">Renew <p class="column-tool"><a href="#" id="CheckAllitems">select all</a> | <a href="#" id="CheckNoitems">none</a></p></th>
        <th scope="col">Check in <p class="column-tool"><a href="#" id="CheckAllreturns">select all</a> | <a href="#" id="CheckNoreturns">none</a></p></th>
    </tr>
<!-- TMPL_IF NAME="todayissues" --></thead>
<!-- TMPL_INCLUDE NAME="checkouts-table-footer.inc" -->
	<tbody>

    <!-- TMPL_LOOP NAME="todayissues" -->
    <!-- TMPL_IF NAME="__odd__" -->
    <tr>
    <!-- TMPL_ELSE -->
    <tr class="highlight">
    <!-- /TMPL_IF -->
        <!-- TMPL_IF NAME="od" --><td class="od"><!-- TMPL_ELSE --><td><!-- /TMPL_IF -->
        <!-- TMPL_VAR NAME="dd" -->
        </td>
        <td><a href="/cgi-bin/koha/catalogue/detail.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->&amp;type=intra"><strong><!-- TMPL_VAR NAME="title" escape="html" --></strong></a><!-- TMPL_IF NAME="author" -->, by <!-- TMPL_VAR NAME="author" --><!-- /TMPL_IF --><!-- TMPL_IF NAME="itemnotes" -->- <span class="circ-hlt"><!-- TMPL_VAR name="itemnotes" --></span><!-- /TMPL_IF --> <a href="/cgi-bin/koha/catalogue/moredetail.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->&amp;itemnumber=<!-- TMPL_VAR NAME="itemnumber" -->#item<!-- TMPL_VAR NAME="itemnumber" -->"><!-- TMPL_VAR NAME="barcode" --></a></td>
        <td><!-- TMPL_UNLESS NAME="noItemTypeImages" --> <!-- TMPL_IF NAME="itemtype_image" --><img src="<!-- TMPL_VAR NAME="itemtype_image" -->" alt="" /><!-- /TMPL_IF --><!-- /TMPL_UNLESS --><!-- TMPL_VAR NAME="itemtype" --></td>
        <td><!-- TMPL_VAR NAME="checkoutdate" --></td>
        <td><!-- TMPL_VAR NAME="itemcallnumber" --></td>
            <td><!-- TMPL_VAR NAME="charge" --></td>
            <td><!-- TMPL_VAR NAME="replacementprice" --></td>
      <!-- TMPL_IF NAME="renew_failed" -->
            <td class="problem">Renewal Failed</td>
      <!-- TMPL_ELSE -->
        <td><span style="padding: 0 1em;"><!-- TMPL_IF NAME="renewals" --><!-- TMPL_VAR NAME="renewals" --><!-- TMPL_ELSE -->0<!-- /TMPL_IF --></span>
        <!-- TMPL_IF NAME="can_renew" -->
        <input type="checkbox" name="all_items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" style="display: none;" />
        <!-- TMPL_IF NAME="od" -->
            <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" />
        <!-- TMPL_ELSE -->
            <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" />
        <!-- /TMPL_IF -->
        <!-- TMPL_ELSE -->
            <!-- TMPL_IF NAME="can_confirm" --><span class="renewals-allowed" style="display: none">
                <input type="checkbox" name="all_items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" style="display: none;" />
                <!-- TMPL_IF NAME="od" -->
                    <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" />
                <!-- TMPL_ELSE -->
                    <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" />
                <!-- /TMPL_IF -->
                </span>
                <span class="renewals-disabled">
            <!-- /TMPL_IF -->
		<!-- TMPL_IF NAME="renew_error_on_reserve" -->
			On Hold
		<!-- /TMPL_IF -->
                <!-- TMPL_IF NAME="renew_error_too_many" -->
			Not Renewable
                <!-- /TMPL_IF -->
            <!-- TMPL_IF NAME="can_confirm" -->
                </span>
            <!-- /TMPL_IF -->
        <!-- /TMPL_IF -->
        </td>
        <!-- /TMPL_IF -->
  <!-- TMPL_IF NAME="return_failed" -->
            <td class="problem">Checkin Failed</td>
      <!--TMPL_ELSE-->
            <td><input type="checkbox" class="radio" name="barcodes[]"  value="<!-- TMPL_VAR NAME="barcode" -->" />
                <input type="checkbox" name="all_barcodes[]" value="<!-- TMPL_VAR NAME="barcode" -->" checked="checked" style="display: none;" />
            </td>
      <!-- /TMPL_IF -->
    </tr>
    <!-- /TMPL_LOOP --> <!-- /loop todayissues -->
    <!-- /if todayissues --><!-- /TMPL_IF -->
<!-- TMPL_IF NAME="previssues" -->
<!-- TMPL_IF NAME="todayissues" --><tr><th colspan="10"><a name="previous" id="previous"></a>Previous checkouts</th></tr><!-- TMPL_ELSE -->
<tr><th class="{sorter: false}" colspan="10"><a name="previous" id="previous"></a>Previous checkouts</th></tr></thead>
<!-- TMPL_INCLUDE NAME="checkouts-table-footer.inc" -->
	<tbody>
<!-- /TMPL_IF -->
    <!-- TMPL_LOOP NAME="previssues" -->
    <!-- TMPL_IF NAME="__odd__" -->
        <tr>
    <!-- TMPL_ELSE -->
        <tr class="highlight">
    <!-- /TMPL_IF -->
        <!-- TMPL_IF NAME="od" --><td class="od"><!-- TMPL_ELSE --><td><!-- /TMPL_IF -->
        <!-- TMPL_VAR NAME="dd" -->
        </td>
        <td><a href="/cgi-bin/koha/catalogue/detail.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->&amp;type=intra"><strong><!-- TMPL_VAR NAME="title" escape="html" --></strong></a><!-- TMPL_IF NAME="author" -->, by <!-- TMPL_VAR NAME="author" --><!-- /TMPL_IF --> <!-- TMPL_IF NAME="itemnotes" -->- <!-- TMPL_VAR name="itemnotes" --><!-- /TMPL_IF --> <a href="/cgi-bin/koha/catalogue/moredetail.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->&amp;itemnumber=<!-- TMPL_VAR NAME="itemnumber" -->#item<!-- TMPL_VAR NAME="itemnumber" -->"><!-- TMPL_VAR NAME="barcode" --></a></td>
        <td>
            <!-- TMPL_VAR NAME="itemtype" -->
        </td>
        <td><!-- TMPL_VAR NAME="displaydate" --></td>
        <td><!-- TMPL_VAR NAME="itemcallnumber" --></td>
        <td><!-- TMPL_VAR NAME="charge" --></td>
        <td><!-- TMPL_VAR NAME="replacementprice" --></td>
      <!-- TMPL_IF NAME="renew_failed" -->
            <td class="problem">Renewal Failed</td>
      <!-- TMPL_ELSE -->
        <td><span style="padding: 0 1em;"><!-- TMPL_IF NAME="renewals" --><!-- TMPL_VAR NAME="renewals" --><!-- TMPL_ELSE -->0<!-- /TMPL_IF --></span>
        <!-- TMPL_IF NAME="can_renew" -->
        <input type="checkbox" name="all_items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" style="display: none;" />
        <!-- TMPL_IF NAME="od" -->
            <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" />
        <!-- TMPL_ELSE -->
            <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" />
        <!-- /TMPL_IF -->
        <!-- TMPL_ELSE -->
            <!-- TMPL_IF NAME="can_confirm" --><span class="renewals-allowed" style="display: none">
                <input type="checkbox" name="all_items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" style="display: none;" />
                <!-- TMPL_IF NAME="od" -->
                    <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" checked="checked" />
                <!-- TMPL_ELSE -->
                    <input type="checkbox" class="radio" name="items[]" value="<!-- TMPL_VAR NAME="itemnumber" -->" />
                <!-- /TMPL_IF -->
                </span>
                <span class="renewals-disabled">
            <!-- /TMPL_IF -->
		<!-- TMPL_IF NAME="renew_error_on_reserve" -->
			On Hold
		<!-- /TMPL_IF -->
                <!-- TMPL_IF NAME="renew_error_too_many" -->
			Not Renewable
                <!-- /TMPL_IF -->
            <!-- TMPL_IF NAME="can_confirm" -->
                </span>
            <!-- /TMPL_IF -->
        <!-- /TMPL_IF -->
        </td>
        <!-- /TMPL_IF -->
		  <!-- TMPL_IF NAME="return_failed" -->
            <td class="problem">Checkin Failed</td>
        <!--TMPL_ELSE-->
            <td><input type="checkbox" class="radio" name="barcodes[]"  value="<!-- TMPL_VAR NAME="barcode" -->" />
                <input type="checkbox" name="all_barcodes[]" value="<!-- TMPL_VAR NAME="barcode" -->" checked="checked" style="display: none;" />
            </td>
      <!-- /TMPL_IF -->
    </tr>
    <!-- /loop previssues --><!-- /TMPL_LOOP -->
<!--/if previssues --><!-- /TMPL_IF -->
      </tbody>
    </table>
    <!--TMPL_IF NAME="issuecount"-->
    <fieldset class="action">
        <!-- TMPL_IF NAME="CAN_user_circulate_override_renewals" -->
        <!-- TMPL_IF NAME="AllowRenewalLimitOverride" -->
        <label for="override_limit">Override Renewal Limit:</label>
        <input type="checkbox" name="override_limit" id="override_limit" value="1" />
        <!-- /TMPL_IF -->
        <!-- /TMPL_IF -->
        <input type="submit" name="renew_checked" value="Renew or Return checked items" />
        <input type="submit" id="renew_all" name="renew_all" value="Renew all" />
        </fieldset>
    <!-- /TMPL_IF -->
</form>
<!-- TMPL_ELSE -->
<p>Patron has nothing checked out.</p>
<!-- /TMPL_IF -->
</div>


<div id="reserves">
<!-- TMPL_IF NAME="reservloop" -->
<form action="/cgi-bin/koha/reserve/modrequest.pl" method="post">
	<input type="hidden" name="from" value="circ" />
    <table id="holdst">
        <thead><tr>
            <th>Hold date</th>
            <th>Title</th>
            <th>Call Number</th>
			<th>Barcode</th>
            <th>Priority</th>
			<th>Delete?</th>
        </tr></thead>
		<tbody>
        <!-- TMPL_LOOP NAME="reservloop" -->
        <tr class="<!-- TMPL_VAR NAME="color" -->">
                    <td><!-- TMPL_VAR NAME="reservedate" --></td>
                    <td><a href="/cgi-bin/koha/reserve/request.pl?biblionumber=<!-- TMPL_VAR NAME="biblionumber" -->"><strong><!-- TMPL_VAR NAME="title" escape="html" --></strong></a><!-- TMPL_IF NAME="author" -->, by <!-- TMPL_VAR NAME="author" --><!-- /TMPL_IF --></td>
                    <td><!-- TMPL_VAR NAME="itemcallnumber" --></td>
					<td><em><!-- TMPL_IF name="barcodereserv" -->Item <!-- TMPL_VAR NAME="barcodereserv" -->
                        <!-- /TMPL_IF --><!-- TMPL_IF name="waiting" --> <strong>waiting at <!-- TMPL_VAR NAME="waitingat" --></strong>
                        <!-- /TMPL_IF -->
                        <!-- TMPL_IF name="transfered" --> <strong>in transit</strong> from
                        <!-- TMPL_VAR NAME="frombranch" --> since <!-- TMPL_VAR NAME="datesent" -->
                        <!-- /TMPL_IF -->
                        <!-- TMPL_IF name="nottransfered" --> hasn't been transferred yet from <!-- TMPL_VAR NAME="nottransferedby" --></i>
                        <!-- /TMPL_IF --></em></td>
                    <td>
                        <!-- TMPL_IF NAME="waitingposition" --><b> <!-- TMPL_VAR NAME="waitingposition" --> </b><!-- /TMPL_IF -->
                    </td>
				<td><select name="rank-request">
                    <option value="n">No</option>
                    <option value="del">Yes</option>
                </select>
                <input type="hidden" name="biblionumber" value="<!-- TMPL_VAR name="biblionumber" -->" />
                <input type="hidden" name="borrowernumber" value="<!-- TMPL_VAR name="borrowernumber" -->" />
            </td>
            </tr>
        <!-- /TMPL_LOOP --></tbody>
    </table>
	        <fieldset class="action"><input type="submit" class="cancel" name="submit" value="Cancel Marked Requests" /></fieldset>
    </form>
	<!-- TMPL_ELSE -->
	<p>Patron has nothing on hold.</p>
<!-- /TMPL_IF -->
</div> <!-- reservesloop -->

<!-- /TMPL_IF --> <!-- borrowernumber -->
</div></div>
<!--/TMPL_IF -->



</div>
</div>
<!-- TMPL_UNLESS NAME="CGIselectborrower" --><!-- TMPL_IF NAME="borrowernumber" --><div class="yui-b">
<!-- TMPL_INCLUDE NAME="circ-menu.inc" -->
</div><!-- /TMPL_IF --><!-- /TMPL_UNLESS -->
</div>
<!-- TMPL_INCLUDE NAME="intranet-bottom.inc" -->
